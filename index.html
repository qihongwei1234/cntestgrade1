<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸºç¡€æ±‰å­—è¯†è¯»æµ‹è¯•ï¼ˆä¸€å¹´çº§ï¼‰</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(to bottom, #f0f8ff, #e6f7ff);
            color: #333;
            line-height: 1.6;
            letter-spacing: 0.5px;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            text-align: center;
            margin: 20px 0;
            font-size: 28px;
        }
        .container {
            width: 90%;
            max-width: 600px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-bottom: 15px;
            transition: transform 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
        }

        /* æµ‹è¯•æŠ¥å‘Šå¡ç‰‡æ ·å¼ */
        .report-card {
            background: #f9f9f9; /* åŒºåˆ†èƒŒæ™¯è‰² */
            border-left: 5px solid #007BFF; /* å·¦ä¾§è¾¹æ¡†å¼ºè°ƒ */
            padding: 20px;
            margin-top: 20px;
        }

        /* æŒ‰é’®æ ·å¼ */
        button {
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 25px;
            padding: 10px 20px;
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }
        button:hover {
            transform: scale(1.05);
        }

        /* ç»“æœåé¦ˆæ ·å¼ */
        .correct {
            color: green;
            font-weight: bold;
        }
        .incorrect {
            color: red;
            font-weight: bold;
        }
        .correct-answer {
            color: green;
            font-weight: bold;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            h1 {
                font-size: 24px;
            }
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <h1>åŸºç¡€æ±‰å­—è¯†è¯»æµ‹è¯•ï¼ˆä¸€å¹´çº§ï¼‰ğŸ“</h1>
    <div class="container">
        <form id="testForm">
            <div id="questions"></div>
            <button type="button" id="submitButton" onclick="submitTest()">æäº¤</button>
        </form>
        <div id="result" class="report-card" style="display: none;"></div>
        <button id="retryButton" style="display: none;" onclick="location.reload()">å†æµ‹ä¸€æ¬¡</button>
    </div>

    <audio id="correctSound" src="https://www.soundjay.com/button/beep-07.mp3"></audio>
    <audio id="wrongSound" src="https://www.soundjay.com/button/beep-09.mp3"></audio>

    <script>
        // æ›´æ–°åçš„æ±‰å­—æ•°æ®
        const characterData = [
            {category: "æ•°å­—ä¸æ—¶é—´ç±»",
            characters: [
                { character: "ä¸€", pinyin: "yÄ«" },
                { character: "äºŒ", pinyin: "Ã¨r" },
                { character: "ä¸‰", pinyin: "sÄn" },
                { character: "å››", pinyin: "sÃ¬" },
                { character: "äº”", pinyin: "wÇ”" },
                { character: "å…­", pinyin: "liÃ¹" },
                { character: "ä¸ƒ", pinyin: "qÄ«" },
                { character: "å…«", pinyin: "bÄ" },
                { character: "ä¹", pinyin: "jiÇ”" },
                { character: "å", pinyin: "shÃ­" },
                { character: "ä¸‡", pinyin: "wÃ n" },
                { character: "ç™¾", pinyin: "bÇi" },
                { character: "å¹´", pinyin: "niÃ¡n" },
                { character: "å²", pinyin: "suÃ¬" },
                { character: "æ˜¥", pinyin: "chÅ«n" },
                { character: "å†¬", pinyin: "dÅng" },
                { character: "æ—©", pinyin: "zÇo" },
                { character: "æ™š", pinyin: "wÇn" },
                { character: "æ—¶", pinyin: "shÃ­" }
            ]
        },
        {
            category: "å®¶åº­ä¸äººç‰©ç±»",
            characters: [
                { character: "çˆ¸", pinyin: "bÃ " },
                { character: "å¦ˆ", pinyin: "mÄ" },
                { character: "çˆ·", pinyin: "yÃ©" },
                { character: "å¥¶", pinyin: "nÇi" },
                { character: "å“¥", pinyin: "gÄ“" },
                { character: "å§", pinyin: "jiÄ›" },
                { character: "å¼Ÿ", pinyin: "dÃ¬" },
                { character: "å¦¹", pinyin: "mÃ¨i" },
                { character: "çˆ¶", pinyin: "fÃ¹" },
                { character: "æ¯", pinyin: "mÇ”" },
                { character: "å¥³", pinyin: "nÇš" },
                { character: "ç”·", pinyin: "nÃ¡n" },
                { character: "å¥¹", pinyin: "tÄ" },
                { character: "ä»–", pinyin: "tÄ" },
                { character: "æˆ‘", pinyin: "wÇ’" },
                { character: "ä½ ", pinyin: "nÇ" },
                { character: "ä»¬", pinyin: "mÃ©n" },
                { character: "å­©", pinyin: "hÃ¡i" }
            ]
        },
        {
            category: "ç‰©å“ç±»",
            characters: [
                { character: "æœ¨", pinyin: "mÃ¹" },
                { character: "ç¦¾", pinyin: "hÃ©" },
                { character: "å·¾", pinyin: "jÄ«n" },
                { character: "ç‰™", pinyin: "yÃ¡" },
                { character: "å°º", pinyin: "chÇ" },
                { character: "æ¯›", pinyin: "mÃ¡o" },
                { character: "é—¨", pinyin: "mÃ©n" },
                { character: "è½¦", pinyin: "chÄ“" },
                { character: "ä¹¦", pinyin: "shÅ«" },
                { character: "æœ¬", pinyin: "bÄ›n" },
                { character: "ä¸š", pinyin: "yÃ¨" },
                { character: "å¹³", pinyin: "pÃ­ng" },
                { character: "æ¡Œ", pinyin: "zhuÅ" },
                { character: "æ¤…", pinyin: "yÇ" },
                { character: "åºŠ", pinyin: "chuÃ¡ng" },
                { character: "ç¯", pinyin: "dÄ“ng" },
                { character: "ç¬”", pinyin: "bÇ" },
                { character: "çº¸", pinyin: "zhÇ" }
            ]
        },
        {
            category: "åŠ¨ä½œç±»",
            characters: [
                { character: "èµ°", pinyin: "zÇ’u" },
                { character: "å¼€", pinyin: "kÄi" },
                { character: "è§", pinyin: "jiÃ n" },
                { character: "é£", pinyin: "fÄ“i" },
                { character: "åƒ", pinyin: "chÄ«" },
                { character: "å–", pinyin: "hÄ“" },
                { character: "çœ‹", pinyin: "kÃ n" },
                { character: "å¬", pinyin: "tÄ«ng" },
                { character: "è¯´", pinyin: "shuÅ" },
                { character: "å†™", pinyin: "xiÄ›" },
                { character: "æ´—", pinyin: "xÇ" },
                { character: "æ‰«", pinyin: "sÇo" },
                { character: "ç”»", pinyin: "huÃ " },
                { character: "ç¬‘", pinyin: "xiÃ o" },
                { character: "è·‘", pinyin: "pÇo" },
                { character: "è·³", pinyin: "tiÃ o" }
            ]
        },
        {
            category: "è‡ªç„¶ç°è±¡ç±»",
            characters: [
                { character: "æ—¥", pinyin: "rÃ¬" },
                { character: "æœˆ", pinyin: "yuÃ¨" },
                { character: "å¤©", pinyin: "tiÄn" },
                { character: "åœ°", pinyin: "dÃ¬" },
                { character: "å±±", pinyin: "shÄn" },
                { character: "æ°´", pinyin: "shuÇ" },
                { character: "ç«", pinyin: "huÇ’" },
                { character: "é£", pinyin: "fÄ“ng" },
                { character: "äº‘", pinyin: "yÃºn" },
                { character: "é›¨", pinyin: "yÇ”" },
                { character: "é›·", pinyin: "lÃ©i" },
                { character: "ç”µ", pinyin: "diÃ n" },
                { character: "é›ª", pinyin: "xuÄ›" },
                { character: "æ˜Ÿ", pinyin: "xÄ«ng" }
            ]
        },
        {
            category: "æŠ½è±¡æ¦‚å¿µç±»",
            characters: [
                { character: "å¤§", pinyin: "dÃ " },
                { character: "å°", pinyin: "xiÇo" },
                { character: "å¤š", pinyin: "duÅ" },
                { character: "å°‘", pinyin: "shÇo" },
                { character: "é•¿", pinyin: "chÃ¡ng" },
                { character: "çŸ­", pinyin: "duÇn" },
                { character: "é«˜", pinyin: "gÄo" },
                { character: "ä½", pinyin: "dÄ«" },
                { character: "èƒ–", pinyin: "pÃ ng" },
                { character: "ç˜¦", pinyin: "shÃ²u" },
                { character: "å¿«", pinyin: "kuÃ i" },
                { character: "æ…¢", pinyin: "mÃ n" },
                { character: "å†·", pinyin: "lÄ›ng" },
                { character: "çƒ­", pinyin: "rÃ¨" },
                { character: "å¿™", pinyin: "mÃ¡ng" },
                { character: "é—²", pinyin: "xiÃ¡n" }
            ]
        },
        {
            category: "ç¤¾ä¼šä¸æ–‡åŒ–ç±»",
            characters: [
                { character: "å®¶", pinyin: "jiÄ" },
                { character: "æ ¡", pinyin: "xiÃ o" },
                { character: "åŸ", pinyin: "chÃ©ng" },
                { character: "ä¹¡", pinyin: "xiÄng" },
                { character: "è¡—", pinyin: "jiÄ“" },
                { character: "é“", pinyin: "dÃ o" },
                { character: "æ¡¥", pinyin: "qiÃ¡o" },
                { character: "æ¥¼", pinyin: "lÃ³u" },
                { character: "åº™", pinyin: "miÃ o" },
                { character: "å¯º", pinyin: "sÃ¬" },
                { character: "å›­", pinyin: "yuÃ¡n" },
                { character: "äº•", pinyin: "jÇng" },
                { character: "é¢", pinyin: "miÃ n" },
                { character: "ç‹", pinyin: "wÃ¡ng" },
                { character: "è´", pinyin: "bÃ¨i" },
                { character: "åŸ", pinyin: "yuÃ¡n" }
            ]
        },
        {
            category: "åŠ¨ç‰©ä¸æ¤ç‰©ç±»",
            characters: [
                { character: "ç‰›", pinyin: "niÃº" },
                { character: "ç¾Š", pinyin: "yÃ¡ng" },
                { character: "é©¬", pinyin: "mÇ" },
                { character: "ç‹—", pinyin: "gÇ’u" },
                { character: "çŒ«", pinyin: "mÄo" },
                { character: "é¸¡", pinyin: "jÄ«" },
                { character: "é¸­", pinyin: "yÄ" },
                { character: "é±¼", pinyin: "yÃº" },
                { character: "é¸Ÿ", pinyin: "niÇo" },
                { character: "è™«", pinyin: "chÃ³ng" },
                { character: "èš‚", pinyin: "mÇ" },
                { character: "èš", pinyin: "yÇ" },
                { character: "è™¾", pinyin: "xiÄ" },
                { character: "ç«¹", pinyin: "zhÃº" },
                { character: "æ ‘", pinyin: "shÃ¹" },
                { character: "èŠ±", pinyin: "huÄ" },
                { character: "è‰", pinyin: "cÇo" }
            ]
        },
        {
            category: "æ–¹ä½ä¸æ–¹å‘ç±»",
            characters: [
                { character: "ä¸Š", pinyin: "shÃ ng" },
                { character: "ä¸‹", pinyin: "xiÃ " },
                { character: "å·¦", pinyin: "zuÇ’" },
                { character: "å³", pinyin: "yÃ²u" },
                { character: "å‰", pinyin: "qiÃ¡n" },
                { character: "å", pinyin: "hÃ²u" },
                { character: "é‡Œ", pinyin: "lÇ" },
                { character: "å¤–", pinyin: "wÃ i" },
                { character: "ä¸­", pinyin: "zhÅng" },
                { character: "è¾¹", pinyin: "biÄn" },
                { character: "ä¸œ", pinyin: "dÅng" },
                { character: "è¥¿", pinyin: "xÄ«" },
                { character: "å—", pinyin: "nÃ¡n" },
                { character: "åŒ—", pinyin: "bÄ›i" }
            ]
        },
        {
            category: "å…¶ä»–å¸¸ç”¨å­—",
            characters: [
                { character: "ä¸", pinyin: "bÃ¹" },
                { character: "äº†", pinyin: "le,liÇo" },
                { character: "å’Œ", pinyin: "hÃ©,hÃ¨,huÃ³,huÃ²,hÃº" },
                { character: "è¿™", pinyin: "zhÃ¨" },
                { character: "é‚£", pinyin: "nÃ " },
                { character: "è°", pinyin: "shuÃ­" },
                { character: "å“ª", pinyin: "nÇ" },
                { character: "å—", pinyin: "ma" },
                { character: "å§", pinyin: "ba" },
                { character: "å‘¢", pinyin: "ne" },
                { character: "å‘€", pinyin: "ya" },
                { character: "æœ‰", pinyin: "yÇ’u" },
                { character: "åœ¨", pinyin: "zÃ i" },
                { character: "ä»€", pinyin: "shÃ©n" },
                { character: "ä¹ˆ", pinyin: "me" }
            ]
        }
    ]
        let score = 0;
        let startTime;

        // åˆå§‹åŒ–é¡µé¢
        window.onload = () => {
            generateQuestions();
            startTime = new Date(); // è®°å½•æµ‹è¯•å¼€å§‹æ—¶é—´
        };

        // éšæœºç”Ÿæˆæµ‹è¯•é—®é¢˜ï¼ˆ10 é“é¢˜ï¼‰
        function generateQuestions() {
            const questionsDiv = document.getElementById('questions');
            let questionsHTML = '';
            const selectedChars = [];

            // éšæœºé€‰æ‹© 10 ä¸ªå­—ç¬¦
            while (selectedChars.length < 10) {
                const randomCategory = characterData[Math.floor(Math.random() * characterData.length)];
                const randomChar = randomCategory.characters[Math.floor(Math.random() * randomCategory.characters.length)];
                if (!selectedChars.includes(randomChar)) {
                    selectedChars.push(randomChar);
                }
            }

            // ä¿å­˜é€‰ä¸­çš„é¢˜ç›®
            window.selectedChars = selectedChars;

            // ç”Ÿæˆé¢˜ç›®
            selectedChars.forEach((char, index) => {
                const options = [char.pinyin];

                // æ·»åŠ  3 ä¸ªå¹²æ‰°é¡¹
                while (options.length < 4) {
                    const randomCategory = characterData[Math.floor(Math.random() * characterData.length)];
                    const randomPinyin = randomCategory.characters[Math.floor(Math.random() * randomCategory.characters.length)].pinyin;
                    if (!options.includes(randomPinyin)) {
                        options.push(randomPinyin);
                    }
                }

                // æ‰“ä¹±é€‰é¡¹é¡ºåº
                options.sort(() => Math.random() - 0.5);

                questionsHTML += `
                    <div class="card" id="q_${index}">
                        <p>${index + 1}. è¯·é€‰æ‹©æ­£ç¡®çš„æ‹¼éŸ³ï¼š${char.character}</p>
                        ${options.map(option => `
                            <label>
                                <input type="radio" name="q_${index}" value="${option}">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
            });

            questionsDiv.innerHTML = questionsHTML;
        }

        // æäº¤è¡¨å•å¹¶è®¡ç®—å¾—åˆ†
        function submitTest() {
            const endTime = new Date(); // è®°å½•æµ‹è¯•ç»“æŸæ—¶é—´
            const testDuration = Math.floor((endTime - startTime) / 1000); // æµ‹è¯•ç”¨æ—¶ï¼ˆç§’ï¼‰

            const resultDiv = document.getElementById('result');
            const totalQuestions = 10;

            Array.from(document.getElementById('testForm').elements).forEach(element => {
                if (element.type === 'radio' && element.checked) {
                    const questionIndex = element.name.split('_')[1];
                    const correctPinyin = window.selectedChars[questionIndex].pinyin;
                    const questionDiv = document.getElementById(`q_${questionIndex}`);
                    const userAnswer = element.value;

                    // æ˜¾ç¤ºç”¨æˆ·é€‰æ‹©çš„ç­”æ¡ˆ
                    const labels = questionDiv.querySelectorAll('label');
                    labels.forEach(label => {
                        const input = label.querySelector('input');
                        if (input.value === correctPinyin) {
                            label.innerHTML += `<span class="correct"> âœ…</span>`;
                        } else if (input.value === userAnswer) {
                            label.innerHTML += `<span class="incorrect"> âŒ</span>`;
                        }
                    });

                    // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
                    if (userAnswer === correctPinyin) {
                        score++;
                        document.getElementById('correctSound').play();
                    } else {
                        questionDiv.innerHTML += `<p class="correct-answer">æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${correctPinyin}</p>`;
                        document.getElementById('wrongSound').play();
                    }
                }
            });

            const accuracy = (score / totalQuestions) * 100;

            // åŠ¨æ€ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
            const report = `
                <h2>äº²çˆ±çš„æ±‰å­—å°è¾¾äººï¼š</h2>
                <p>ä½ å®Œæˆäº†è¿™æ¬¡æµ‹è¯•ï¼Œæ€»å…±æœ‰ ${totalQuestions} é“é¢˜ï¼Œä½ ç­”å¯¹äº† ${score} é¢˜ï¼Œæ­£ç¡®ç‡æ˜¯ ${accuracy.toFixed(2)}%ã€‚</p>
                <p>æœ¬æ¬¡æµ‹è¯•ç”¨æ—¶ï¼š${testDuration} ç§’ã€‚</p>
                <p>${accuracy >= 80 ? "å¤ªæ£’äº†ï¼ä½ çš„æ±‰å­—è¯†å­—èƒ½åŠ›éå¸¸å‡ºè‰²ï¼ğŸ‰" : ""}
                ${accuracy >= 50 && accuracy < 80 ? "ä¸é”™å“¦ï¼ä½ å·²ç»æŒæ¡äº†ä¸å°‘å¸¸ç”¨æ±‰å­—ï¼Œç»§ç»­åŠ æ²¹ï¼ğŸ’ª" : ""}
                ${accuracy < 50 ? "åˆ«ç°å¿ƒï¼å­¦ä¹ æ±‰å­—æ˜¯ä¸€ä¸ªæ…¢æ…¢ç§¯ç´¯çš„è¿‡ç¨‹ï¼Œä½ å·²ç»è¿ˆå‡ºäº†é‡è¦çš„ä¸€æ­¥ï¼ğŸŒŸ" : ""}</p>
                <p>ä¸‹é¢æ˜¯ä½ çš„è¡¨ç°åˆ†æï¼š</p>
                <ul>
                    <li><strong>ä½ çš„å¼ºé¡¹ï¼š</strong> ç­”å¯¹çš„é¢˜ç›®å±•ç¤ºäº†ä½ å¯¹è¿™äº›æ±‰å­—çš„ç†Ÿæ‚‰ç¨‹åº¦ã€‚</li>
                    <li><strong>éœ€è¦åŠ å¼ºçš„åœ°æ–¹ï¼š</strong> å¯¹äºç­”é”™çš„é¢˜ç›®ï¼Œå»ºè®®å¤šå¤ä¹ ç›¸å…³æ±‰å­—ã€‚</li>
                </ul>
                <p>å¸Œæœ›ä¸‹æ¬¡æµ‹è¯•æ—¶èƒ½çœ‹åˆ°ä½ æ›´æ£’çš„æˆç»©ï¼ğŸ˜Š</p>
            `;

            // æ˜¾ç¤ºæµ‹è¯•æŠ¥å‘Š
            resultDiv.innerHTML = report;
            resultDiv.style.display = 'block';

            // æ˜¾ç¤ºâ€œå†æµ‹ä¸€æ¬¡â€æŒ‰é’®
            document.getElementById('retryButton').style.display = 'block';

            // ç¦ç”¨æäº¤æŒ‰é’®
            document.getElementById('submitButton').disabled = true;
        }
    </script>
</body>
</html>
